{"version":3,"sources":["pages/Detail.jsx","../node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"],"names":["Detail","useState","alreadyLike","setAlreadyLike","isLoading","setIsLoading","certId","useParams","detail","detailData","useSWR","fetcher","data","userObj","useSelector","state","auth","profileObj","email","myData","revalidateUser","revalidate","useEffect","isLike","cert_likes","find","e","cert_id","onClickLike","event","obj","TypeError","target","axios","post","then","res","console","log","catch","className","name","department","pass_percent","pass_percent_sil","cost","cost_sil","onClick"],"mappings":"0NA+FeA,UAtFA,WAAO,IAAD,EACmBC,oBAAS,GAD5B,mBACZC,EADY,KACCC,EADD,OAEeF,oBAAS,GAFxB,mBAEZG,EAFY,KAEDC,EAFC,KAGHC,EAAWC,cAAnBC,OACMC,EAAeC,YAAO,oBAAD,OAAqBJ,GAAUK,KAA1DC,KACFC,EAAUC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKH,WAL/B,EAMkCH,YAAO,aAAD,OAC5CG,EAAQI,WAAWC,OAChCP,KAFYQ,EANK,EAMXP,KAA0BQ,EANf,EAMGC,WAItBC,qBAAU,WACR,IAAIC,EAAM,OAAGJ,QAAH,IAAGA,OAAH,EAAGA,EAAQK,WAAWC,MAAK,SAACC,GAAD,OAAOA,EAAEC,SAAWrB,KACzDH,EAAeoB,KACd,IACH,IAAMK,EAAc,SAACC,ICvBR,SAAmCC,GAChD,GAAW,MAAPA,EAAa,MAAM,IAAIC,UAAU,gCDsBL,CAG1BF,EADFG,QAEF3B,GAAa,GACb4B,IACGC,KADH,yBAC0BrB,EAAQI,WAAWC,MAD7C,YACsDZ,IACnD6B,MAAK,SAACC,GACLhB,IACAf,GAAa,GACbF,GAAe,GACfkC,QAAQC,IAAIF,MAEbG,OAAM,SAACb,GAAD,OAAOW,QAAQC,IAAIZ,OAW9B,OAAItB,EAAkB,cAAC,IAAD,CAAcA,UAAWA,IAE7C,mCACGK,EACC,sBAAK+B,UAAU,+BAAf,UACE,oBAAIA,UAAU,mBAAd,SAAkC/B,EAAWgC,OAC7C,sBAAKD,UAAU,qCAAf,UACE,gCACE,sBAAMA,UAAU,sBAAhB,8BACA,sBAAMA,UAAU,qBAAhB,SACG/B,EAAWiC,gBAGhB,gCACE,sBAAMF,UAAU,sBAAhB,gDACA,uBAAMA,UAAU,qBAAhB,UACG/B,EAAWkC,aADd,WAIF,gCACE,sBAAMH,UAAU,sBAAhB,gDACA,uBAAMA,UAAU,qBAAhB,UACG/B,EAAWmC,iBADd,WAIF,gCACE,sBAAMJ,UAAU,sBAAhB,gDACA,uBAAMA,UAAU,qBAAhB,UAAsC/B,EAAWoC,KAAjD,gBAEF,gCACE,sBAAML,UAAU,sBAAhB,gDACA,uBAAMA,UAAU,qBAAhB,UACG/B,EAAWqC,SADd,mBAKH5C,EACC,wBAAQ6C,QAASnB,EAAjB,8BAEA,wBAAQmB,QAASnB,EAAjB,sBAIJ,cAAC,IAAD,CAASY,UAAU","file":"static/js/4.e1c96b01.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useSelector } from \"react-redux\";\nimport useSWR from \"swr\";\nimport fetcher from \"../utils/fetcher\";\nimport \"../layouts/App/App.css\";\nimport { Loading, PopUpLoading } from \"../components\";\nimport axios from \"axios\";\n\nconst Detail = () => {\n  const [alreadyLike, setAlreadyLike] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const { detail: certId } = useParams();\n  const { data: detailData } = useSWR(`/api/certificate/${certId}`, fetcher);\n  const userObj = useSelector((state) => state.auth.userObj);\n  const { data: myData, revalidate: revalidateUser } = useSWR(\n    `/api/user/${userObj.profileObj.email}`,\n    fetcher\n  );\n  useEffect(() => {\n    let isLike = myData?.cert_likes.find((e) => e.cert_id == certId);\n    setAlreadyLike(isLike);\n  }, []);\n  const onClickLike = (event) => {\n    const {\n      target: {},\n    } = event;\n    setIsLoading(true);\n    axios\n      .post(`/api/cert_like/${userObj.profileObj.email}/${certId}`)\n      .then((res) => {\n        revalidateUser();\n        setIsLoading(false);\n        setAlreadyLike(true);\n        console.log(res);\n      })\n      .catch((e) => console.log(e));\n  };\n  /**\n   * , {\n        email: myData?.email,\n        name: myData?.name,\n        phone_number: myData?.phone_number,\n        interest: myData?.interest,\n        cert_id: certId,\n      }\n   */\n  if (isLoading) return <PopUpLoading isLoading={isLoading} />;\n  return (\n    <>\n      {detailData ? (\n        <div className=\"certificate-detail-container\">\n          <h1 className=\"certificate-name\">{detailData.name}</h1>\n          <div className=\"certificate-detail-inner-container\">\n            <div>\n              <span className=\"certificate-details\"> 주관 : </span>\n              <span className=\"certificate-values\">\n                {detailData.department}\n              </span>\n            </div>\n            <div>\n              <span className=\"certificate-details\">필기 합격률 : </span>\n              <span className=\"certificate-values\">\n                {detailData.pass_percent} %\n              </span>\n            </div>\n            <div>\n              <span className=\"certificate-details\">실기 합격률 : </span>\n              <span className=\"certificate-values\">\n                {detailData.pass_percent_sil} %\n              </span>\n            </div>\n            <div>\n              <span className=\"certificate-details\">필기 접수비 : </span>\n              <span className=\"certificate-values\">{detailData.cost} 원</span>\n            </div>\n            <div>\n              <span className=\"certificate-details\">실기 접수비 : </span>\n              <span className=\"certificate-values\">\n                {detailData.cost_sil} 원\n              </span>\n            </div>\n          </div>\n          {alreadyLike ? (\n            <button onClick={onClickLike}>Delete from Like</button>\n          ) : (\n            <button onClick={onClickLike}>Like!</button>\n          )}\n        </div>\n      ) : (\n        <Loading className=\"certificate-detail-container\" />\n      )}\n    </>\n  );\n};\nexport default Detail;\n","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}"],"sourceRoot":""}